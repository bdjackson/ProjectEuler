#!/usr/bin/env python 
# ============================================================================
import sys
import math

# ===========================================================================
# = http://projecteuler.net/problem=45                                      =
# = - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - =
# = Find the next number that is triangular, pentagonal, and hexagonal      =
# = after 40755                                                             =
# =   40755 = T_285 = P_165 = H_143                                         =
# ===========================================================================

# -----------------------------------------------------------------------------
def isTriangularNumber(num):
  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  return ( (-1 + math.sqrt(1+4*2*num))%2 == 0 )

# -----------------------------------------------------------------------------
def isPentagonalNumber(num):
  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  return ( (1 + math.sqrt(1+4*3*2*num))%6 == 0 )

# -----------------------------------------------------------------------------
def isHexagonalNumber(num):
  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  return ( (1+math.sqrt(1+8*num))%4 == 0 )

# -----------------------------------------------------------------------------
def findNextNumberThatIsAllThree(sentinal):
  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  i = -1
  hex_num = 0
  num_matches = 0

  while num_matches <= sentinal:
    i += 1
    hex_num += (4*i+1)

    if isTriangularNumber(hex_num) and isPentagonalNumber(hex_num):
      num_matches += 1
      print '%d is all three types (tri, pent, hex)' % hex_num
  
# ============================================================================
def main():
  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
  for i in xrange(1, 50):
    print 'i: %d - tri: %s - pent: %s - hex: %s' % (i, isTriangularNumber(i), isPentagonalNumber(i),
        isHexagonalNumber(i))
  print '====================================================================='
  findNextNumberThatIsAllThree(2)
  print '====================================================================='

# ============================================================================
if __name__ == "__main__":
  # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
  sys.exit( main() )

# ============================================================================
# ============
# = solution =
# ============
# 1533776805

